import React, { Component } from "react";

import { Button, TextField } from 'ui-neumorphism'
import 'ui-neumorphism/dist/index.css'

import axios from 'axios';

import { testStr } from "@frontend/common/src";


axios.defaults.xsrfCookieName = 'csrftoken';
axios.defaults.xsrfHeaderName = 'X-CSRFToken';
axios.defaults.withCredentials = true;


class App extends Component {
  state = {
    sessionConnected: false,
    joinCode: "",
  };

  onButtonClicked = (e) => {
    // console.log(this.state.joinCode)
    // console.log(axios.defaults.xsrfHeaderName)
    console.log(testStr);
    axios.get('http://127.0.0.1:8000/api/sessions/10/')
        .then(function (r) {console.log(r)})
    e.preventDefault();
  };

  render() {
    return (
    <div>
      {this.state.sessionConnected ? (
          <p>Connected</p>
      ) : (
          <form
            onSubmit={this.onButtonClicked}
          >
            <TextField
              label="Join Code"
              bordered={true}
              counter={5}
              onChange={(e) => {
                this.setState({ joinCode: e.value });
              }}
            />
            <Button
              submit
              autoFocus
              bordered={true}
            >
              Submit
            </Button>
          </form>
      )}
    </div>
  );
  }
}

export default App;
